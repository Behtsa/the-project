(this["webpackJsonpthe-project"]=this["webpackJsonpthe-project"]||[]).push([[0],{27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},32:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(17),s=n.n(a),i=n(8),o=n.n(i),l=n(18),u=n(3),d=n(4),j=n(0),h=Object(r.createContext)([]),b=function(e){var t=e.children,n=Object(r.useState)({id:null,name:"Monserrat Gonz\xe1lez",status:"Alive",species:"Human",type:"Human",gender:"Female",origin:{name:"",link:""},location:{name:"",link:""},image:"https://media-exp1.licdn.com/dms/image/C5603AQFCFHZ8jCIsKA/profile-displayphoto-shrink_800_800/0/1523332968541?e=1627516800&v=beta&t=VtoQ2C1ATAZiUk6GXMaiqdBu8wJ8ZJj3Fo4PgOanJnI",episode:[],url:"",created:""}),c=Object(d.a)(n,2),a=c[0],s=c[1];return Object(j.jsx)(h.Provider,{value:[a,s],children:t})},p=(n(27),function(e){var t=e.characters,n=Object(r.useContext)(h),c=Object(d.a)(n,2),a=(c[0],c[1]);return Object(j.jsx)("div",{className:"characters__container",children:t.map((function(e,t){return Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"characters__container__item",onClick:function(){return a(e)},children:Object(j.jsx)("img",{src:e.image,alt:e.name})},e+t),Object(j.jsx)("p",{className:"characters__container__title",children:e.name})]})}))})}),f=(n(28),function(){return Object(j.jsx)("div",{className:"loader__container",children:Object(j.jsx)("div",{className:"loader__container__img",children:Object(j.jsx)("img",{src:"loading.gif"})})})}),g=(n(29),function(e){var t=e.popUpTitle,n=e.imgSrc,r=e.closePopUp;return Object(j.jsx)("div",{className:"popup__container",children:Object(j.jsxs)("div",{className:"popup__container__content",children:[Object(j.jsx)("h3",{children:t}),Object(j.jsx)("p",{children:"Something went wrong, please try again later"}),Object(j.jsx)("div",{className:"popup__container__img__wrapper",children:Object(j.jsx)("img",{src:n})}),Object(j.jsx)("button",{className:"popup__container__button",onClick:function(){return r()},children:" Close"})]})})}),O=(n(30),function(){var e=Object(r.useContext)(h),t=Object(d.a)(e,2),n=t[0];t[1];return Object(j.jsxs)("div",{className:"sidebar",children:[Object(j.jsx)("div",{className:"sidebar__image__wrapper",children:Object(j.jsx)("img",{className:"sidebar__image",src:n.image,alt:n.name})}),Object(j.jsx)("div",{className:"sidebar__title",children:Object(j.jsx)("p",{children:"".concat(n.name)})}),Object(j.jsxs)("div",{className:"sidebar__content",children:[Object(j.jsxs)("p",{children:[Object(j.jsx)("span",{className:"sidebar__label",children:"Status "}),Object(j.jsx)("span",{className:"sidebar__status sidebar__status--".concat(n.status)}),"".concat(n.status)]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("span",{className:"sidebar__label",children:"Species "}),"".concat(n.species)]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("span",{className:"sidebar__label",children:"Type "}),"".concat(n.type)]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("span",{className:"sidebar__label",children:"Gender "}),"".concat(n.gender)]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("span",{className:"sidebar__label",children:"Episodes "}),"".concat(n.episode.length)]})]})]})}),m=n(19),v=n.n(m),_=(n(32),function(e){var t=e.info,n=e.getCharactersPerPage;return Object(j.jsx)("div",{className:"pagination__container",children:Object(j.jsx)(v.a,{pageCount:t.pages,pageRangeDisplayed:10,marginPagesDisplayed:5,previousLabel:"ant",nextLabel:"sig",breakLabel:"...",onPageChange:function(e){var t=e.selected;n(t)},containerClassName:"pagination"})})}),x=n(5),w=n(6),k="https://rickandmortyapi.com/api",N={CHARACTER:"".concat(k,"/character"),LOCATIONS:"".concat(k,"/location"),EPISODES:"".concat(k,"/episodes")},S=n(20),C=n.n(S),y=function(){function e(){Object(x.a)(this,e)}return Object(w.a)(e,[{key:"get",value:function(e){return this.request("get",e)}},{key:"request",value:function(e,t,n,r){var c={method:e,url:t,data:n,headers:r};return C.a.request(c).then(this.customSuccess).catch(this.customError)}},{key:"customSuccess",value:function(e){var t={success:!0,status:e.status,headers:e.headers,data:e.data,message:"ok"};return Promise.resolve(t)}},{key:"customError",value:function(e){return Promise.reject({success:!1,status:500,headers:{},data:{},message:"Internal server error"})}}]),e}(),E=function(){function e(){Object(x.a)(this,e),this.httpService=void 0,this.httpService=new y}return Object(w.a)(e,[{key:"getCharacters",value:function(e){var t=e?N.CHARACTER+"/?page="+e:N.CHARACTER;return this.httpService.get(t)}}]),e}(),A="CHARACTERS",P=function(){function e(){Object(x.a)(this,e)}return Object(w.a)(e,[{key:"getSessionItem",value:function(){var e=null;try{e=JSON.parse(sessionStorage.getItem(A)||"")}catch(t){console.error("Error to get characters from storage")}return e}},{key:"saveInfoInStorage",value:function(e){try{sessionStorage.setItem(A,JSON.stringify(e))}catch(t){console.error("Error to save characters in storage")}}}]),e}(),I=(n(51),function(){var e=new E,t=new P,n=Object(r.useState)({isLoading:!1,isError:!1,info:{},results:[]}),c=Object(d.a)(n,2),a=c[0],s=c[1],i=function(){var t=Object(l.a)(o.a.mark((function t(n){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s(Object(u.a)(Object(u.a)({},a),{},{isLoading:!0})),t.next=4,e.getCharacters(n);case 4:r=t.sent,s(Object(u.a)(Object(u.a)({},a),{},{isLoading:!1,results:r.data.results,info:r.data.info})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),s(Object(u.a)(Object(u.a)({},a),{},{isLoading:!1,isError:!0}));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){if(a.results&&a.results.length>0){var e=t.getSessionItem();s(Object(u.a)(Object(u.a)({},a),{},{results:e.results,info:e.info}))}else i()}),[]),Object(r.useEffect)((function(){t.saveInfoInStorage({info:a.info,results:a.results})}),[a.results,a.info]),Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"character__container",children:[a.isLoading?Object(j.jsx)(f,{}):null,a.isError?Object(j.jsx)(g,{popUpTitle:"Oops!",imgSrc:"errorRickMorty.jpeg",closePopUp:function(){return s(Object(u.a)(Object(u.a)({},a),{},{isError:!a.isError}))}}):null,Object(j.jsx)(O,{}),a.results?Object(j.jsx)(p,{characters:a.results}):null]}),Object(j.jsx)(_,{info:a.info,getCharactersPerPage:i})]})}),L=(n(52),function(){return Object(j.jsx)("div",{className:"App",children:Object(j.jsx)(b,{children:Object(j.jsx)(I,{})})})}),R=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function T(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}s.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(L,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/the-project",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/the-project","/service-worker.js");R?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):T(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):T(t,e)}))}}()}},[[53,1,2]]]);
//# sourceMappingURL=main.591735f6.chunk.js.map